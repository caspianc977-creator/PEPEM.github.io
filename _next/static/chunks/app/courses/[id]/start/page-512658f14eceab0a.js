(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{1552:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var l=s(5155),i=s(2115),a=s(7288),r=s(9010);function d(e){let{courseId:t}=e,[s,d]=(0,i.useState)(null),[c,n]=(0,i.useState)(0),[o,x]=(0,i.useState)(!1),m={1:{id:"1",title:"传统剪纸基础入门",instructor:"张雪莲",description:"从纸张选择到基础刀法，全面掌握剪纸入门技巧",chapters:[{id:1,title:"剪纸历史与文化背景",duration:"15分钟",videoUrl:"",completed:!1},{id:2,title:"工具与材料准备",duration:"20分钟",videoUrl:"",completed:!1},{id:3,title:"基础折纸技法",duration:"25分钟",videoUrl:"",completed:!1},{id:4,title:"简单图案设计",duration:"30分钟",videoUrl:"",completed:!1},{id:5,title:"基础剪纸实践",duration:"35分钟",videoUrl:"",completed:!1},{id:6,title:"作品装裱与保存",duration:"15分钟",videoUrl:"",completed:!1},{id:7,title:"常见问题解答",duration:"20分钟",videoUrl:"",completed:!1},{id:8,title:"进阶学习指导",duration:"15分钟",videoUrl:"",completed:!1}]},2:{id:"2",title:"花鸟图案设计与制作",instructor:"李明华",description:"学习传统花鸟纹样的设计原理和制作技法",chapters:[{id:1,title:"花鸟纹样的文化内涵",duration:"18分钟",videoUrl:"",completed:!1},{id:2,title:"传统花卉图案分析",duration:"22分钟",videoUrl:"",completed:!1},{id:3,title:"鸟类造型设计要点",duration:"25分钟",videoUrl:"",completed:!1},{id:4,title:"构图与布局原理",duration:"20分钟",videoUrl:"",completed:!1},{id:5,title:"线条与层次处理",duration:"28分钟",videoUrl:"",completed:!1},{id:6,title:"色彩搭配技巧",duration:"15分钟",videoUrl:"",completed:!1},{id:7,title:"花鸟作品实践制作",duration:"45分钟",videoUrl:"",completed:!1},{id:8,title:"创意变化与发展",duration:"22分钟",videoUrl:"",completed:!1}]}};(0,i.useEffect)(()=>{let e=m[t];e&&d(e)},[t]);let h=async(e,t)=>{x(!0),setTimeout(()=>{let l=URL.createObjectURL(t);if(s){let t={...s};t.chapters[e].videoUrl=l,d(t)}x(!1)},2e3)},p=e=>{if(s){let t={...s};t.chapters[e].completed=!0,d(t)}};return s?(0,l.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)("main",{className:"pt-24 pb-12",children:(0,l.jsxs)("div",{className:"container mx-auto px-6",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:s.title}),(0,l.jsxs)("p",{className:"text-xl text-gray-300",children:["讲师：",s.instructor]}),(0,l.jsx)("p",{className:"text-gray-400 mt-2",children:s.description})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-gray-900 rounded-2xl p-6 sticky top-24",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"课程目录"}),(0,l.jsx)("div",{className:"space-y-3",children:s.chapters.map((e,t)=>(0,l.jsx)("button",{onClick:()=>n(t),className:"w-full text-left p-3 rounded-lg transition-all duration-200 cursor-pointer ".concat(c===t?"bg-red-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.title}),(0,l.jsx)("div",{className:"text-sm opacity-75",children:e.duration})]}),e.completed&&(0,l.jsx)("i",{className:"ri-check-line text-green-400"})]})},e.id))})]})}),(0,l.jsxs)("div",{className:"lg:col-span-3",children:[(0,l.jsxs)("div",{className:"bg-gray-900 rounded-2xl overflow-hidden",children:[(0,l.jsx)("div",{className:"aspect-video bg-black relative",children:s.chapters[c].videoUrl?(0,l.jsx)("video",{src:s.chapters[c].videoUrl,controls:!0,className:"w-full h-full",onEnded:()=>p(c)}):(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("i",{className:"ri-video-line text-6xl text-gray-500 mb-4 block"}),(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:s.chapters[c].title}),(0,l.jsx)("p",{className:"text-gray-400 mb-6",children:"该章节视频暂未上传，请联系管理员上传课程内容"}),(0,l.jsx)("div",{className:"max-w-md mx-auto",children:(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-red-400 transition-colors",children:[(0,l.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&h(c,s)},className:"hidden",id:"video-upload-".concat(c),disabled:o}),(0,l.jsx)("label",{htmlFor:"video-upload-".concat(c),className:"cursor-pointer",children:o?(0,l.jsxs)("div",{children:[(0,l.jsx)("i",{className:"ri-loader-4-line text-3xl text-red-400 mb-2 block animate-spin"}),(0,l.jsx)("p",{className:"text-red-400",children:"上传中..."})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("i",{className:"ri-upload-cloud-line text-3xl text-gray-400 mb-2 block"}),(0,l.jsx)("p",{className:"text-gray-400",children:"点击上传视频文件"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"支持 MP4, MOV, AVI 格式"})]})})]})})]})})}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:s.chapters[c].title}),(0,l.jsxs)("p",{className:"text-gray-400",children:["第 ",c+1," 章 \xb7 ",s.chapters[c].duration]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-3",children:(0,l.jsxs)("button",{onClick:()=>p(c),className:"px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer whitespace-nowrap ".concat(s.chapters[c].completed?"bg-green-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,l.jsx)("i",{className:"mr-2 ".concat(s.chapters[c].completed?"ri-check-line":"ri-checkbox-blank-line")}),s.chapters[c].completed?"已完成":"标记完成"]})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("button",{onClick:()=>n(Math.max(0,c-1)),disabled:0===c,className:"flex items-center space-x-2 px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:[(0,l.jsx)("i",{className:"ri-arrow-left-line"}),(0,l.jsx)("span",{children:"上一章"})]}),(0,l.jsxs)("div",{className:"text-gray-400 text-sm",children:[c+1," / ",s.chapters.length]}),(0,l.jsxs)("button",{onClick:()=>n(Math.min(s.chapters.length-1,c+1)),disabled:c===s.chapters.length-1,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer whitespace-nowrap",children:[(0,l.jsx)("span",{children:"下一章"}),(0,l.jsx)("i",{className:"ri-arrow-right-line"})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-8 bg-gray-900 rounded-2xl p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white",children:"学习进度"}),(0,l.jsxs)("span",{className:"text-gray-400",children:[s.chapters.filter(e=>e.completed).length," / ",s.chapters.length," 章节完成"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-800 rounded-full h-3",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-3 rounded-full transition-all duration-500",style:{width:"".concat(s.chapters.filter(e=>e.completed).length/s.chapters.length*100,"%")}})})]})]})]})]})}),(0,l.jsx)(r.default,{})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)("div",{className:"container mx-auto px-6 py-20 text-center text-white",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"课程未找到"}),(0,l.jsx)("p",{className:"text-gray-400",children:"抱歉，您访问的课程不存在。"})]}),(0,l.jsx)(r.default,{})]})}},1734:(e,t,s)=>{Promise.resolve().then(s.bind(s,1552))}},e=>{var t=t=>e(e.s=t);e.O(0,[244,425,441,684,358],()=>t(1734)),_N_E=e.O()}]);